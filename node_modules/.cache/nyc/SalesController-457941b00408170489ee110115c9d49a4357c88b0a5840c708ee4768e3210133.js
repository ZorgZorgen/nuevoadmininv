function cov_1ycjtkm1oz(){var path="/Volumes/F'sinthecha/Github/store-manager/controllers/SalesController.js";var hash="23c67ad0bd40521f4f9381f52e5604ceb802d3d2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Volumes/F'sinthecha/Github/store-manager/controllers/SalesController.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:56}},"1":{start:{line:3,column:15},end:{line:9,column:1}},"2":{start:{line:4,column:17},end:{line:4,column:44}},"3":{start:{line:6,column:2},end:{line:6,column:87}},"4":{start:{line:6,column:22},end:{line:6,column:87}},"5":{start:{line:8,column:2},end:{line:8,column:51}},"6":{start:{line:11,column:16},end:{line:19,column:1}},"7":{start:{line:12,column:17},end:{line:12,column:27}},"8":{start:{line:14,column:17},end:{line:14,column:55}},"9":{start:{line:16,column:2},end:{line:16,column:87}},"10":{start:{line:16,column:22},end:{line:16,column:87}},"11":{start:{line:18,column:2},end:{line:18,column:51}},"12":{start:{line:21,column:15},end:{line:33,column:1}},"13":{start:{line:22,column:2},end:{line:24,column:3}},"14":{start:{line:23,column:4},end:{line:23,column:60}},"15":{start:{line:26,column:26},end:{line:26,column:61}},"16":{start:{line:28,column:2},end:{line:30,column:3}},"17":{start:{line:29,column:4},end:{line:29,column:87}},"18":{start:{line:32,column:2},end:{line:32,column:69}},"19":{start:{line:35,column:15},end:{line:50,column:1}},"20":{start:{line:36,column:17},end:{line:36,column:27}},"21":{start:{line:38,column:2},end:{line:40,column:3}},"22":{start:{line:39,column:4},end:{line:39,column:60}},"23":{start:{line:42,column:34},end:{line:42,column:45}},"24":{start:{line:43,column:26},end:{line:43,column:80}},"25":{start:{line:45,column:2},end:{line:47,column:3}},"26":{start:{line:46,column:4},end:{line:46,column:87}},"27":{start:{line:49,column:2},end:{line:49,column:69}},"28":{start:{line:52,column:19},end:{line:62,column:1}},"29":{start:{line:53,column:17},end:{line:53,column:27}},"30":{start:{line:55,column:26},end:{line:55,column:67}},"31":{start:{line:57,column:2},end:{line:59,column:3}},"32":{start:{line:58,column:4},end:{line:58,column:87}},"33":{start:{line:61,column:2},end:{line:61,column:48}},"34":{start:{line:64,column:0},end:{line:70,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:36},end:{line:9,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:36},end:{line:19,column:1}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:15},end:{line:21,column:16}},loc:{start:{line:21,column:35},end:{line:33,column:1}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:35,column:15},end:{line:35,column:16}},loc:{start:{line:35,column:35},end:{line:50,column:1}},line:35},"4":{name:"(anonymous_4)",decl:{start:{line:52,column:19},end:{line:52,column:20}},loc:{start:{line:52,column:39},end:{line:62,column:1}},line:52}},branchMap:{"0":{loc:{start:{line:6,column:2},end:{line:6,column:87}},type:"if",locations:[{start:{line:6,column:2},end:{line:6,column:87}},{start:{line:6,column:2},end:{line:6,column:87}}],line:6},"1":{loc:{start:{line:16,column:2},end:{line:16,column:87}},type:"if",locations:[{start:{line:16,column:2},end:{line:16,column:87}},{start:{line:16,column:2},end:{line:16,column:87}}],line:16},"2":{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:22,column:2},end:{line:24,column:3}}],line:22},"3":{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:28,column:2},end:{line:30,column:3}}],line:28},"4":{loc:{start:{line:38,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:38,column:2},end:{line:40,column:3}},{start:{line:38,column:2},end:{line:40,column:3}}],line:38},"5":{loc:{start:{line:45,column:2},end:{line:47,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:47,column:3}},{start:{line:45,column:2},end:{line:47,column:3}}],line:45},"6":{loc:{start:{line:57,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:57,column:2},end:{line:59,column:3}},{start:{line:57,column:2},end:{line:59,column:3}}],line:57}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"23c67ad0bd40521f4f9381f52e5604ceb802d3d2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ycjtkm1oz=function(){return actualCoverage;};}return actualCoverage;}cov_1ycjtkm1oz();const SalesService=(cov_1ycjtkm1oz().s[0]++,require('../services/SalesService'));cov_1ycjtkm1oz().s[1]++;const getAll=async(_req,res)=>{cov_1ycjtkm1oz().f[0]++;const result=(cov_1ycjtkm1oz().s[2]++,await SalesService.getAll());cov_1ycjtkm1oz().s[3]++;if(result.message){cov_1ycjtkm1oz().b[0][0]++;cov_1ycjtkm1oz().s[4]++;return res.status(result.code).json({message:result.message});}else{cov_1ycjtkm1oz().b[0][1]++;}cov_1ycjtkm1oz().s[5]++;return res.status(result.code).json(result.data);};cov_1ycjtkm1oz().s[6]++;const getById=async(req,res)=>{cov_1ycjtkm1oz().f[1]++;const{id}=(cov_1ycjtkm1oz().s[7]++,req.params);const result=(cov_1ycjtkm1oz().s[8]++,await SalesService.getById(Number(id)));cov_1ycjtkm1oz().s[9]++;if(result.message){cov_1ycjtkm1oz().b[1][0]++;cov_1ycjtkm1oz().s[10]++;return res.status(result.code).json({message:result.message});}else{cov_1ycjtkm1oz().b[1][1]++;}cov_1ycjtkm1oz().s[11]++;return res.status(result.code).json(result.data);};cov_1ycjtkm1oz().s[12]++;const create=async(req,res)=>{cov_1ycjtkm1oz().f[2]++;cov_1ycjtkm1oz().s[13]++;if(!req.body.length){cov_1ycjtkm1oz().b[2][0]++;cov_1ycjtkm1oz().s[14]++;return res.status(400).json({message:'Bad request'});}else{cov_1ycjtkm1oz().b[2][1]++;}const serviceResponse=(cov_1ycjtkm1oz().s[15]++,await SalesService.create(req.body));cov_1ycjtkm1oz().s[16]++;if(serviceResponse.message){cov_1ycjtkm1oz().b[3][0]++;cov_1ycjtkm1oz().s[17]++;return res.status(serviceResponse.code).json({message:serviceResponse.message});}else{cov_1ycjtkm1oz().b[3][1]++;}cov_1ycjtkm1oz().s[18]++;return res.status(serviceResponse.code).json(serviceResponse.data);};cov_1ycjtkm1oz().s[19]++;const update=async(req,res)=>{cov_1ycjtkm1oz().f[3]++;const{id}=(cov_1ycjtkm1oz().s[20]++,req.params);cov_1ycjtkm1oz().s[21]++;if(!req.body.length){cov_1ycjtkm1oz().b[4][0]++;cov_1ycjtkm1oz().s[22]++;return res.status(400).json({message:'Bad request'});}else{cov_1ycjtkm1oz().b[4][1]++;}const{productId,quantity}=(cov_1ycjtkm1oz().s[23]++,req.body[0]);const serviceResponse=(cov_1ycjtkm1oz().s[24]++,await SalesService.update({id,productId,quantity}));cov_1ycjtkm1oz().s[25]++;if(serviceResponse.message){cov_1ycjtkm1oz().b[5][0]++;cov_1ycjtkm1oz().s[26]++;return res.status(serviceResponse.code).json({message:serviceResponse.message});}else{cov_1ycjtkm1oz().b[5][1]++;}cov_1ycjtkm1oz().s[27]++;return res.status(serviceResponse.code).json(serviceResponse.data);};cov_1ycjtkm1oz().s[28]++;const deleteSale=async(req,res)=>{cov_1ycjtkm1oz().f[4]++;const{id}=(cov_1ycjtkm1oz().s[29]++,req.params);const serviceResponse=(cov_1ycjtkm1oz().s[30]++,await SalesService.deleteSale(Number(id)));cov_1ycjtkm1oz().s[31]++;if(serviceResponse.message){cov_1ycjtkm1oz().b[6][0]++;cov_1ycjtkm1oz().s[32]++;return res.status(serviceResponse.code).json({message:serviceResponse.message});}else{cov_1ycjtkm1oz().b[6][1]++;}cov_1ycjtkm1oz().s[33]++;return res.status(serviceResponse.code).end();};cov_1ycjtkm1oz().s[34]++;module.exports={getAll,getById,create,update,deleteSale};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNhbGVzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJTYWxlc1NlcnZpY2UiLCJyZXF1aXJlIiwiZ2V0QWxsIiwiX3JlcSIsInJlcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjb2RlIiwianNvbiIsImRhdGEiLCJnZXRCeUlkIiwicmVxIiwiaWQiLCJwYXJhbXMiLCJOdW1iZXIiLCJjcmVhdGUiLCJib2R5IiwibGVuZ3RoIiwic2VydmljZVJlc3BvbnNlIiwidXBkYXRlIiwicHJvZHVjdElkIiwicXVhbnRpdHkiLCJkZWxldGVTYWxlIiwiZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjQySkFlWTsyRkFmWixLQUFNQSxDQUFBQSxZQUFZLDBCQUFHQyxPQUFPLENBQUMsMEJBQUQsQ0FBVixDQUFsQixDLHdCQUVBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxNQUFPQyxJQUFQLENBQWFDLEdBQWIsR0FBcUIseUJBQ2xDLEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsS0FBTUwsQ0FBQUEsWUFBWSxDQUFDRSxNQUFiLEVBQVQsQ0FBWixDQURrQyx3QkFHbEMsR0FBSUcsTUFBTSxDQUFDQyxPQUFYLENBQW9CLDBEQUFPRixDQUFBQSxHQUFHLENBQUNHLE1BQUosQ0FBV0YsTUFBTSxDQUFDRyxJQUFsQixFQUF3QkMsSUFBeEIsQ0FBNkIsQ0FBRUgsT0FBTyxDQUFFRCxNQUFNLENBQUNDLE9BQWxCLENBQTdCLENBQVAsQ0FBaUUsQ0FBckYsaUNBSGtDLHdCQUtsQyxNQUFPRixDQUFBQSxHQUFHLENBQUNHLE1BQUosQ0FBV0YsTUFBTSxDQUFDRyxJQUFsQixFQUF3QkMsSUFBeEIsQ0FBNkJKLE1BQU0sQ0FBQ0ssSUFBcEMsQ0FBUCxDQUNELENBTkQsQyx3QkFRQSxLQUFNQyxDQUFBQSxPQUFPLENBQUcsTUFBT0MsR0FBUCxDQUFZUixHQUFaLEdBQW9CLHlCQUNsQyxLQUFNLENBQUVTLEVBQUYsMkJBQVNELEdBQUcsQ0FBQ0UsTUFBYixDQUFO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QUNyQyxLQUFNLENBQUVTLEVBQUYsNEJBQVNELEdBQUcsQ0FBQ0UsTUFBYixDQUFOLENBRUEsS0FBTUssQ0FBQUEsZUFBZSwyQkFBRyxLQUFNbkIsQ0FBQUEsWUFBWSxDQUFDdUIsVUFBYixDQUF3QlIsTUFBTSxDQUFDRixFQUFELENBQTlCLENBQVQsQ0FBckIsQ0FIcUMseUJBS3JDLEdBQUlNLGVBQWUsQ0FBQ2IsT0FBcEIsQ0FBNkIscURBQzNCLE1BQU9GLENBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXWSxlQUFlLENBQUNYLElBQTNCLEVBQWlDQyxJQUFqQyxDQUFzQyxDQUFFSCxPQUFPLENBQUVhLGVBQWUsQ0FBQ2IsT0FBM0IsQ0FBdEMsQ0FBUCxDQUNELENBRkQsaUNBTHFDLHlCQVNyQyxNQUFPRixDQUFBQSxHQUFHLENBQUNHLE1BQUosQ0FBV1ksZUFBZSxDQUFDWCxJQUEzQixFQUFpQ2dCLEdBQWpDLEVBQVAsQ0FDRCxDQVZELEMseUJBWUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmeEIsTUFEZSxDQUVmUyxPQUZlLENBR2ZLLE1BSGUsQ0FJZkksTUFKZSxDQUtmRyxVQUxlLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU2FsZXNTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZXMvU2FsZXNTZXJ2aWNlJyk7XG5cbmNvbnN0IGdldEFsbCA9IGFzeW5jIChfcmVxLCByZXMpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2FsZXNTZXJ2aWNlLmdldEFsbCgpO1xuXG4gIGlmIChyZXN1bHQubWVzc2FnZSkgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LmNvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcblxuICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuY29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG59O1xuXG5jb25zdCBnZXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2FsZXNTZXJ2aWNlLmdldEJ5SWQoTnVtYmVyKGlkKSk7XG5cbiAgaWYgKHJlc3VsdC5tZXNzYWdlKSByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuY29kZSkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xuXG4gIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5jb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbn07XG5cbmNvbnN0IGNyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBpZiAoIXJlcS5ib2R5Lmxlbmd0aCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdCYWQgcmVxdWVzdCcgfSk7XG4gIH1cblxuICBjb25zdCBzZXJ2aWNlUmVzcG9uc2UgPSBhd2FpdCBTYWxlc1NlcnZpY2UuY3JlYXRlKHJlcS5ib2R5KTtcblxuICBpZiAoc2VydmljZVJlc3BvbnNlLm1lc3NhZ2UpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyhzZXJ2aWNlUmVzcG9uc2UuY29kZSkuanNvbih7IG1lc3NhZ2U6IHNlcnZpY2VSZXNwb25zZS5tZXNzYWdlIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlcy5zdGF0dXMoc2VydmljZVJlc3BvbnNlLmNvZGUpLmpzb24oc2VydmljZVJlc3BvbnNlLmRhdGEpO1xufTtcblxuY29uc3QgdXBkYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgaWYgKCFyZXEuYm9keS5sZW5ndGgpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnQmFkIHJlcXVlc3QnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBwcm9kdWN0SWQsIHF1YW50aXR5IH0gPSByZXEuYm9keVswXTtcbiAgY29uc3Qgc2VydmljZVJlc3BvbnNlID0gYXdhaXQgU2FsZXNTZXJ2aWNlLnVwZGF0ZSh7IGlkLCBwcm9kdWN0SWQsIHF1YW50aXR5IH0pO1xuXG4gIGlmIChzZXJ2aWNlUmVzcG9uc2UubWVzc2FnZSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKHNlcnZpY2VSZXNwb25zZS5jb2RlKS5qc29uKHsgbWVzc2FnZTogc2VydmljZVJlc3BvbnNlLm1lc3NhZ2UgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzLnN0YXR1cyhzZXJ2aWNlUmVzcG9uc2UuY29kZSkuanNvbihzZXJ2aWNlUmVzcG9uc2UuZGF0YSk7XG59O1xuXG5jb25zdCBkZWxldGVTYWxlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgY29uc3Qgc2VydmljZVJlc3BvbnNlID0gYXdhaXQgU2FsZXNTZXJ2aWNlLmRlbGV0ZVNhbGUoTnVtYmVyKGlkKSk7XG5cbiAgaWYgKHNlcnZpY2VSZXNwb25zZS5tZXNzYWdlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoc2VydmljZVJlc3BvbnNlLmNvZGUpLmpzb24oeyBtZXNzYWdlOiBzZXJ2aWNlUmVzcG9uc2UubWVzc2FnZSB9KTtcbiAgfVxuXG4gIHJldHVybiByZXMuc3RhdHVzKHNlcnZpY2VSZXNwb25zZS5jb2RlKS5lbmQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGwsXG4gIGdldEJ5SWQsXG4gIGNyZWF0ZSxcbiAgdXBkYXRlLFxuICBkZWxldGVTYWxlLFxufTsiXX0=